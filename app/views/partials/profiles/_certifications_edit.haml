- if !@certifications.empty?
  %p.text-muted.instr.text-left.left-pad#has-certs Click on a field you would like to edit. Changes are saved automatically.
- else
  %p.text-muted.instr.text-left.left-pad#no-certs You have no certifications. Add some below!

- current_cert = 0
- @certifications.each_with_index do |cert, index|
  - current_cert = index + 1
  %div.cert-div{ id: "cert#{cert.id}", data: { index: + 1 } }
    .col-md-12.text-left
      %h4.cert-title
        = link_to certification_path(cert.id), method: :delete, remote: true do
          %span.glyphicon.glyphicon-remove.remove{ title: true, data: { toggle: :tooltip, "original-title" => "Remove this certification. Cannot be undone." } }
        %span.certification-label= "Certification ##{index + 1}"
    .col-md-12.cert-row.text-left.cert-form
      .col-sm-3.first-field
        .form-group
          .col-sm-12
            %label.control-label Title
            %hr.cert-hr
          .col-sm-12
            = best_in_place cert, :title, as: :input, place_holder: "Title", inner_class: "form-control", url: certification_path(cert.id)
      .col-sm-3
        .form-group
          .col-sm-12
            %label.control-label Granting Body
            %hr.cert-hr
          .col-sm-12
            = best_in_place cert, :certifying_body, as: :input, place_holder: "Granting Body", inner_class: "form-control", url: certification_path(cert.id)
      .col-sm-3
        .form-group
          .col-sm-12
            %label.control-label Acquired
            %hr.cert-hr
          .col-sm-12
            = best_in_place cert, :acquired, as: :input, place_holder: "", inner_class: "form-control datepicker", url: certification_path(cert.id), display_as: :acquire_display
      .col-sm-3
        .form-group
          .col-sm-12
            %label.control-label Expires
            %hr.cert-hr
          .col-sm-12
            = best_in_place cert, :expires, as: :input, place_holder: "", inner_class: "form-control datepicker", url: certification_path(cert.id), display_as: :expire_display
.col-md-12.text-left.top-marg#certification_form
  %h4.cert-title Add New Certification
.col-md-12.cert-row.text-left
  = form_for(Certification.new, as: :certification, method: :post, validate: true, html: { id: "new-cert-form" }, remote: true) do |f|
    = text_field_tag(:cert_num, current_cert + 1, hidden: true, id: "curcert")
    .col-sm-3.first-field
      .form-group
        .col-sm-12
          %label.control-label Title
          %hr.cert-hr
        .col-sm-12
          = f.text_field(:title, value: "", placeholder: "Title", class: "form-control", id: "title", required: true)
    .col-sm-3
      .form-group
        .col-sm-12
          %label.control-label Certifying Body
          %hr.cert-hr
        .col-sm-12
          = f.text_field(:certifying_body, value: "", placeholder: "Certifying Body", class: "form-control", id: "cert-body", required: true)
    .col-sm-3
      .form-group
        .col-sm-12
          %label.control-label Acquired
          %hr.cert-hr
        .col-sm-12
          = f.text_field(:acquired, value: "", placeholder: "Acquired On", class: "form-control datepicker new-date-ac", id: "acquire-field", required: true)
    .col-sm-3
      .form-group
        .col-sm-12
          %label.control-label Expires
          %hr.cert-hr
        .col-sm-12
          = f.text_field(:expires, value: "", placeholder: "Expires On", class: "form-control datepicker new-date-ex", id: "expire-field", required: true)
    .col-sm-12.text-left.top-marg
      = f.submit "Add", class: "btn btn-primary"
